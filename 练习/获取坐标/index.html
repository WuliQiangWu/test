<!--<!DOCTYPE html>-->
<!--<html>-->
<!--<head>-->
    <!--<meta charset="utf-8"/>-->
    <!--<title></title>-->

<!--</head>-->
<!--<body>-->
<!--<div id="map" style="width:600px; height:400px">-->
<!--</div>-->
<!--</body>-->
<!--<script src="http://api.map.baidu.com/api?v=1.3" type="text/javascript"></script>-->
<!--<script type="text/javascript" src="convertor.js"></script>-->
<!--<script type="text/javascript">-->
    <!--if (window.navigator.geolocation) {-->
        <!--var options = {-->
            <!--enableHighAccuracy: true-->
        <!--};-->
        <!--window.navigator.geolocation.getCurrentPosition(handleSuccess, handleError, options);-->
    <!--} else {-->
        <!--alert("浏览器不支持html5来获取地理位置信息");-->
    <!--}-->

    <!--function handleSuccess(position){-->
        <!--// 获取到当前位置经纬度  本例中是chrome浏览器取到的是google地图中的经纬度-->
        <!--var lng = position.coords.longitude;-->
        <!--var lat = position.coords.latitude;-->
        <!--// 调用百度地图api显示-->
        <!--var map = new BMap.Map("map");-->
        <!--var ggPoint = new BMap.Point(lng, lat);-->
        <!--// 将google地图中的经纬度转化为百度地图的经纬度-->
        <!--BMap.Convertor.translate(ggPoint, 2, function(point){-->
            <!--var marker = new BMap.Marker(point);-->
            <!--map.addOverlay(marker);-->
            <!--map.centerAndZoom(point, 15);-->
        <!--});-->
    <!--}-->

    <!--function handleError(error){-->

    <!--}-->
<!--</script>-->
<!--</html>-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <title>H5地理位置Demo</title>
    <script src="http://api.map.baidu.com/api?v=1.3" type="text/javascript">
    </script>
    <Style>
        body,html{
            height:100%;
            width:100%;
            margin:0;
            padding:0;
        }
        #aaa{
            border:#ccc solid 1px;
            width:100%;
            height:100%
        }
    </Style>
</head>
<body>
<div  id="aaa">
    <a></a>
</div>
<script type="text/javascript">
    if(navigator.geolocation)
    {
        navigator.geolocation.getCurrentPosition(function (p) {
                    var latitude = p.coords.latitude//纬度
                    var longitude = p.coords.longitude;
                    createmap(latitude, longitude);

                }, function (e) {//错误信息
                    var aa = e.code + "\n" + e.message;
                    alert(aa);
                }
        );
    }
    function createmap(a,b)
    {
        var map = new BMap.Map("aaa");
        var point = new BMap.Point(b, a);
        map.centerAndZoom(point, 20);//设置地图的中心点和坐标
        Window.map = map;//将map变量存储在全局

    }

</script>
</body>
</html>