<!DOCTYPE html>
<html ng-app="myApp">
<head>
    <meta charset="UTF-8">
    <title></title>
</head>
<body>
    <div ng-controller="myCtrl">
        <greeting greet="sayHello(name)"></greeting>
        <greeting greet="sayHello(name)"></greeting>
        <greeting greet="sayHello(name)"></greeting>
    </div>
    <script src="angular-1.3.0.js"></script>
    <script>
        var myApp = angular.module('myApp',[]);
        myApp.controller('myCtrl',['$scope',function($scope){
            $scope.sayHello=function(name){
                alert('hello'+name)
            };
        }]);
        myApp.directive('greeting',function(){
            return{
                restrict:'AE',
                scope:{
                    greet:'&'
                },
                template:'<input type="text" ng-model="username"/><br>'+'<button ng-click="greet({name:username})">greet</button><br>'
            }
        })
    </script>
</body>
</html>